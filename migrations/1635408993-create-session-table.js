// This will create the table
exports.up = async function up(sql) {
  console.log('Creating sessions table...');
  await sql`
    CREATE TABLE sessions (
      id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
      token VARCHAR(90) UNIQUE NOT NULL,
      expiry_timestamp TIMESTAMP NOT NULL DEFAULT NOW() + INTERVAL '24 hours',
			user_id INTEGER REFERENCES users (id) ON DELETE CASCADE
    );
  `;
};

// This will remove the table again
exports.down = async function down(sql) {
  console.log('Dropping sessions table...');
  await sql`DROP TABLE sessions;`;
};
